var mutationObserver = mutationObserver.set(document.querySelector('.sample-table'));

function mutationObserver () {

    return {
            set: setMutationObserver,
            disconnect: function(observer){observer.disconnect()}
        }

    function setMutationObserver(target, configuration, callbackFn) {
        var config,
            defaultConfig = {
                attributes: false,
                childList: false,
                characterData: false,
                subtree: false,
                attributeOldValue: false
            },
            observer = new MutationObserver(function (mutations) {
                if(_.isFunction(callbackFn)){
                    callbackFn(mutations);
                }
            });

        // childList by default
        if (_.every(config, function (property) {return !property})) {
            config.childList = true;
        }
        observer.observe(target, config);

        return observer;
    }
};
